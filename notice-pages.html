<!DOCTYPE html>
<html>
<head>
<meta charset="gb2312" />
<style type="text/css">
div,ul,li,body { margin: 0; padding: 0; font-size: 12px; }
#containet {
	display: inline-block;
	border: 1px solid #e1dede;
	padding: 19px;
	margin: auto;
}
#pageMain li {
	list-style: none;
	line-height: 22px;
}
#pageBox { padding: 10px 0 0 0; }
#pageBox span {
	display: inline-block;
	width: 60px;
	height: 24px;
	line-height: 24px;
	text-align: center;
	color: #fff;
	background: #08a586;
}
#pageNav { display: inline-block; }
#pageNav a {
	display: inline-block;
	width: 24px;
	height: 24px;
	line-height: 24px;
	text-align: center;
	color: #08a586;
	text-decoration:none;
}
#pageNav a.active,
#pageNav a:hover {
	background: #08a586;
	color: #fff;
}
</style>
<script src="js/jquery-1.9.1.js"></script>
<button id="showNotice">显示桌面通知</button>
	<script type="text/javascript">
		var oBtn = document.querySelector("#showNotice");
		oNotifications = window.Notification;
		if(oNotifications){
			oBtn.addEventListener("click", showMsg, false);
		}else{
			console.log("浏览器不支持桌面通知呦，使用chrome或者firefox看看效果吧。");
		}
		
		function showMsg(){
			if(oNotifications.permission == "granted"){
				
				var demo = new Notification("这里是标题", {icon: "http://rguanghui.sinaapp.com/lib/images/portrait.jpg", body: "弹出的某一些内容弹出的某一些内容弹出的某一些内容弹出的某一些内容弹出的某一些内容弹出的某一些内容"});
				
				demo.onshow = function(){
					console.log("The notification is showed");
					setTimeout(function(){
						demo.close();
					}, 10000);
				};
				demo.onclick = function(){
					console.log("You Click The notification");
					window.focus();
				}
				demo.onclose = function(){ /*do something*/ }
				demo.onerror = function(){ /*do something*/ }
			}else{
				oNotifications.requestPermission();
			}
		}
	</script>

<div id="containet">
	<div id="pageMain">
		<li>1</li>
		<li>2</li>
		<li>3</li>
		<li>4</li>
		<li>5</li>
		<li>6</li>
		<li>7</li>
		<li>8</li>
		<li>9</li>
		<li>10</li>
	</div>
    <div id="pageBox">
    	<span id="prev" style="cursor:pointer;">上一页</span>
        <ul id="pageNav">
        </ul>
        <span id="next" style="cursor:pointer;">下一页</span>
    </div>
</div>
</body>
</html>
<script>
window.onload = function(){
	tabPage({
		pageMain : 'pageMain',
		pageNav : 'pageNav',
		pagePrev: 'prev',
		pageNext: 'next',
		curNum: 7,      //每页显示的条数
		activeClass: 'active',   //高光显示的class
		ini: 0    //初始化显示的页面
	});
	
	function tabPage(tabPage){
		var pageMain = document.getElementById(tabPage.pageMain);   //获取内容列表
		var pageNav = document.getElementById(tabPage.pageNav);     //获取分页
		var pagePrev = document.getElementById(tabPage.pagePrev);   //上一页
		var pageNext = document.getElementById(tabPage.pageNext);   //下一页
		
		var curNum = tabPage.curNum;                                //每页显示数
		var len = Math.ceil(pageMain.children.length / curNum);     //计算总页数
		var pageList = '';                                          //生成页码
		var iNum = 0;                                               //当前的索引值index
		
		for(var i = 0; i < len; i++){
			pageList+='<a href="javascript:;">'+ ( i + 1)+'</a>';
		}
		pageNav.innerHTML = pageList;
		
		pageNav.children[0].className = tabPage.activeClass;        //头一页加高亮显示
		
		for(var i = 0; i < pageNav.children.length; i++){
			pageNav.children[i].index = i;
			pageNav.children[i].onclick = function(){
				for(var t = 0; t < pageNav.children.length; t++){
					pageNav.children[t].className = '';
				}
				this.className = tabPage.activeClass;
				iNum = this.index;
				ini(iNum);
			};
		}
		
		
		//下一页
		pageNext.onclick = function(){
			if(iNum == len - 1){
				alert('已经是最后一页');
				return false;
			}else{
				for(var t = 0; t < pageNav.children.length; t++){
					pageNav.children[t].className = '';
				}
				iNum++;
				pageNav.children[iNum].className = tabPage.activeClass;
				ini(iNum);
			}
		};
		
		//上一页
		pagePrev.onclick = function(){
			if(iNum == 0){
				alert('当前是第一页');
				return false;
			}else{
				for(var t = 0; t < pageNav.children.length; t++){
					pageNav.children[t].className = '';
				}
				iNum--;
				pageNav.children[iNum].className = tabPage.activeClass;
				ini(iNum);
			}
		};
		
		function ini(iNum){
			for(var i = 0; i < pageMain.children.length; i++){
				pageMain.children[i].style.display = 'none';
			}
			
			for(var i = 0; i < curNum; i++){
				if(pageMain.children[(iNum * curNum + i)] == undefined){ continue; }
				pageMain.children[(iNum * curNum + i)].style.display = 'block';
			}
		}
		ini(iNum);
	}
};
</script>
