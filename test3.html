<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <title>test</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <script src="js/jquery-1.11.0.js"></script>
  <script src="js/underscore-src.js"></script>
  <script src="js/console_snippets.js"></script>
  <script src="js/tenda-common.js"></script>
  <script src="js/base.js"></script>
  <style>
  .none {
    display: none;
  }
  #div1 {
    height: 80px;
    background: #ccc;
    color: #f90;
  }
  .wrapper {
            display: grid;
            grid-template-columns: 100px 10px 100px 10px 100px;
            grid-template-rows: auto 10px auto;
        }

         .box {
            background-color: #444;
            color: #fff;
            font-size: 150%;
            line-height: 60px;
            text-align: center;
        }
        .b,.d,.f,.g,.h,.i,.j,.l,.n{
            background-color: #1D8FEE;
        }
  </style>
</head>

<body>
  <div class="wrapper">
    <div class="box a">A</div>
    <div class="box b"></div>
    <div class="box c">C</div>
    <div class="box d"></div>
    <div class="box e">E</div>
    <div class="box f"></div>
    <div class="box g"></div>
    <div class="box h"></div>
    <div class="box i"></div>
    <div class="box j"></div>
    <div class="box k">K</div>
    <div class="box l"></div>
    <div class="box m">M</div>
    <div class="box n"></div>
    <div class="box o">O</div>
</div>
  <div id="observer">MutationObserver observe dom</div>
  <p>
    <lable>请选择一个文件：</label>
      <input type="file" id="file">
      <input type="button" value="读取图像" onClick="readAsDataURL()">
      <input type="button" value="读取二进制数据" onClick="readAsBinaryString()">
      <input type="button" value="读取文本文件" onClick="readAsText()">
  </p>
  <div name="result" id="result"></div>
  <div id="div1">
    <p>请拖拽到此区域</p>
  </div>
  <ul id="ul1"></ul>
</body>
<script src="js/lite2.js"></script>
<script>
var result = document.getElementById("result");
var file = document.getElementById("file");

function readAsDataURL() {
  var file = document.getElementById("file").files[0],
    reader = new FileReader();
  reader.readAsDataURL(file);
  reader.onload = function(e) {
    var result = document.getElementById("result");
    result.innerHTML = '<img src="' + this.result + '" alt="" />';
  }
}

function readAsBinaryString() {
  var file = document.getElementById("file").files[0],
    reader = new FileReader();
  reader.readAsBinaryString(file);
  reader.onload = function(e) {
    var result = document.getElementById("result");
    result.innerHTML = this.result;
  }
}

function readAsText() {
  var file = document.getElementById("file").files[0],
    reader = new FileReader();
  reader.readAsText(file);
  reader.onload = function(e) {
    var result = document.getElementById("result");
    result.innerHTML = this.result;
  }
}
var oUl = document.getElementById('ul1');
var oDiv = document.getElementById('div1');
oDiv.ondragenter = function() {
  this.innerHTML = '可以释放';
};
oDiv.ondragover = function(ev) {
  ev.preventDefault();
};
oDiv.ondragleave = function() {
  this.innerHTML = '请拖拽到此区域';
};
oDiv.ondrop = function(ev) {
  ev.preventDefault();
  var fs = ev.dataTransfer.files;
  for (var i = 0; i < fs.length; i++) {
    var fr = new FileReader();
    if (fs[i].type.indexOf('image') != -1) {
      fr.readAsDataURL(fs[i]);
      fr.onload = function() {
        var oLi = document.createElement('li');
        var oImg = document.createElement('img');
        oImg.src = this.result;
        oLi.appendChild(oImg);
        oUl.appendChild(oLi);
      };
    } else {
      alert('亲,请拖拽图片格式');
    }
  }
};
/*var target = document.getElementById('observer');
// create an observer instance
var observer = new MutationObserver(function(mutations) {
  mutations.forEach(function(mutation) {
    console.log(mutation.type);
  });
});
// configuration of the observer:
var config = { attributes: true, childList: true, characterData: true };
// pass in the target node, as well as the observer options
observer.observe(target, config);

// later, you can stop observing
// observer.disconnect();*/


/*var ll = JSON.stringify({l:1,f:2,o:3,n:true}, function(key,value){
	console.log(key,value);
	if (typeof value === 'number') {
		return value+1;
	} else {
		return value;
	}
})
console.log(ll);*/
/*var obj = {
  foo: 'foo',
  toJSON: function() {
    return 'bar';
  }
};
console.log(JSON.stringify(obj));        // '"bar"'
console.log(JSON.stringify({ x: obj })); // '{"x":"bar"}'

var obj2 = {
  foo: 'foo',
  toJSON: function(key) {
  	console.log(key)
    if (key === '') {
      return 'bar only';
    } else {
      return 'bar in ' + key;
    }
  }
};

console.log(JSON.stringify(obj2));         // '"bar only"'
console.log(JSON.stringify({ x: obj2 }));  // '{ "x":"bar in x"}'
console.log(JSON.stringify([obj2, obj2])); // '["bar in 0", "bar in 1"]'*/

/*function CmdSave() {
	// todo
  var OW = window.open("", "_blank", "");
  // var OW = window.open("001.gif", location.origin+"/images/001.gif", "");
  // OW.document.open();
  var name = location.origin+"/images/001.gif";
  OW.document.execCommand("saveAs", false, '001.gif');//执行保存，IE6,IE7,IE8有效
  OW.close();
}*/
/*function strReverse(str) {
	return (str.replace(/[\w-]+/g, function(s, i, ss) {
		if (i == 0) {
			s = s.charAt(0).toLowerCase() + s.substr(1, s.length - 2) + s.charAt(s.length - 1).toUpperCase();
		}
		return s.split("").reverse().join("")
	}));
}
console.log(strReverse("Many people spell MySQL incorrectly"))*/
/*var s = new Set();

[2,3,5,4,5,2,2].map(x => s.add(x))
for (i of s) {console.log(i)}*/

/*function ll() {
	var i=0,sum=0;
	let a=99;
	for (;i<arguments.length;i++) {
		sum += arguments[i];
	}
	console.log(sum,a+sum);
}*/
/*var m = new Map();

m.set("edition", 6)        // 键是字符串
m.set(262, "standard")     // 键是数值
m.set(undefined, "nah")    // 键是undefined

var hello = function() {console.log("hello");}
m.set(hello, "Hello ES6!") // 键是函数

m.has("edition")     // true
m.has("years")       // false
m.has(262)           // true
m.has(undefined)     // true
m.has(hello)         // true

m.delete(undefined)
m.has(undefined)       // false

m.get(hello)  // Hello ES6!
m.get("edition")  // 6*/

/*function add(...values) {
   let sum = 0;

   for (var val of values) {
      sum += val;
   }

   return sum;
}

add(2, 5, 3) // 10*/

/*function* helloWorldGenerator() {
    yield 'hello';
    yield 'world';
}
var hw = helloWorldGenerator();
// 执行遍历器的next方法，则会依次遍历每个成员。

hw.next()
// { value: 'hello', done: false }

hw.next()
// { value: 'world', done: false }

hw.next()
// { value: undefined, done: true }

hw.next()*/


// Error: Generator has already finished
//	at GeneratorFunctionPrototype.next (native)
//	at repl:1:3
//  at REPLServer.defaultEval (repl.js:129:27)
//  ...


/*function push(array, ...items) {
  items.forEach(function(item) {
    array.push(item);
    console.log(item);
  });
}

var a = [];
push(a, "a1", "a2", "a3", "a4"); */

/*var _ = {}; //只要是引用，保证不报错就行
var curry = function(fun) {
	var rest = [].slice.call(arguments, 0);
	rest.shift(); //rest = [1, _, 3, _]
	return function() {
		var args = [].slice.call(arguments, 0); //args = [2, 4]
		var finalArgs = rest.map(function(value, index) {
			if (value === _) {
				return args.shift();
			}
			return value;
		}); //finalArgs = [1, 2, 3, 4]
		return fun.apply(this, finalArgs);
	}
}
var fun = function(a, b, c, d) {
	debugger;
	console.log("" + a + b + c + d);
}
var f1 = curry(fun, 1, _, 3, _);
f1(2, 4); //=>1234*/
/*var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");

ctx.font="20px Georgia";
ctx.fillText("Hello World!",10,150);

ctx.font="30px Verdana";
// 创建渐变
var gradient=ctx.createLinearGradient(0,0,c.width,0);
gradient.addColorStop("0","magenta");
gradient.addColorStop("0.5","blue");
gradient.addColorStop("1.0","red");
// 用渐变填色
ctx.fillStyle=gradient;
ctx.fillText("w3school.com.cn",10,90);*/
/*function ttt() {
	if (!(this instanceof ttt)) {
		console.log(arguments.callee);
		return new ttt();
	}
	this.tastes="long";
}
var first = new ttt();
var second = ttt();*/
/*!function() {
	function n() {
		t.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
			t.height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
	}

	function e() {
		i.clearRect(0, 0, t.width, t.height);
		var n = [a].concat(m);
		m.forEach(function(e) {
				e.x += e.xa,
					e.y += e.ya,
					e.xa *= e.x > t.width || e.x < 0 ? -1 : 1,
					e.ya *= e.y > t.height || e.y < 0 ? -1 : 1,
					i.fillRect(e.x - .5, e.y - .5, 1, 1);
				for (var o = 0; o < n.length; o++) {
					var m = n[o];
					if (e !== m && null !== m.x && null !== m.y) {
						var d, u = e.x - m.x,
							c = e.y - m.y,
							r = u * u + c * c;
						r < m.max && (m === a && r >= m.max / 2 && (e.x -= .03 * u,
								e.y -= .03 * c),
							d = (m.max - r) / m.max,
							i.beginPath(),
							i.lineWidth = d / 2,
							i.strokeStyle = "rgba(0,0,0," + (d + .2) + ")",
							i.moveTo(e.x, e.y),
							i.lineTo(m.x, m.y),
							i.stroke())
					}
				}
				n.splice(n.indexOf(e), 1)
			}),
			o(e)
	}
	var t = document.getElementById("cas"),
		i = t.getContext("2d");
	n(),
		window.onresize = n;
	var o = function() {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(n) {
				window.setTimeout(n, 1e3 / 60)
			}
		}(),
		a = {
			x: null,
			y: null,
			max: 2e4
		};
	window.onmousemove = function(n) {
			n = n || window.event,
				a.x = n.clientX,
				a.y = n.clientY
		},
		window.onmouseout = function(n) {
			a.x = null,
				a.y = null
		};
	for (var m = [], d = 0; 150 > d; d++) {
		var u = Math.random() * t.width,
			c = Math.random() * t.height,
			r = 2 * Math.random() - 1,
			l = 2 * Math.random() - 1;
		m.push({
			x: u,
			y: c,
			xa: r,
			ya: l,
			max: 6e3
		})
	}
	setTimeout(function() {
		e()
	}, 100)
}();
https://graph.qq.com/oauth/show?which=Login&display=pc&scope=get_user_info,get_info,add_t,add_pic_t,get_other_info,get_fanslist,get_idollist,add_idol,add_share&state=e8bbd97633b58e30532787099ee7c597&redirect_uri=http://www.zhihu.com/oauth/callback/qqconn&response_type=code&client_id=100490701
*/
</script>

</html>